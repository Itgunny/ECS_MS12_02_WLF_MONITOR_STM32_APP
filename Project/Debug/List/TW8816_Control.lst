###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.50.1.4415/W32 for ARM      09/Jun/2015  07:54:41 #
# Copyright 1999-2012 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  C:\Tools\IAR Systems\Workspace_WL9F\WL_F_Monitor_APP\Pla #
#                    tform\TaeHa - ECS\SRC\TW8816_Control.c                   #
#    Command line =  "C:\Tools\IAR Systems\Workspace_WL9F\WL_F_Monitor_APP\Pl #
#                    atform\TaeHa - ECS\SRC\TW8816_Control.c" -D              #
#                    USE_STDPERIPH_DRIVER -D STM32F4XX -D USE_STM324xG_EVAL   #
#                    -D USE_FULL_ASSERT -lcN "C:\Tools\IAR                    #
#                    Systems\Workspace_WL9F\WL_F_Monitor_APP\Project\Debug\Li #
#                    st\" -o "C:\Tools\IAR Systems\Workspace_WL9F\WL_F_Monito #
#                    r_APP\Project\Debug\Obj\" --debug --endian=little        #
#                    --cpu=Cortex-M4 -e --fpu=VFPv4_sp --dlib_config          #
#                    "C:\Tools\IAR Systems\Embedded Workbench                 #
#                    6.5\arm\INC\c\DLib_Config_Full.h" -I "C:\Tools\IAR       #
#                    Systems\Workspace_WL9F\WL_F_Monitor_APP\Project\..\Platf #
#                    orm\COMMON\INC\" -I "C:\Tools\IAR                        #
#                    Systems\Workspace_WL9F\WL_F_Monitor_APP\Project\..\Platf #
#                    orm\TaeHa - ECS\INC\" -I "C:\Tools\IAR                   #
#                    Systems\Workspace_WL9F\WL_F_Monitor_APP\Project\..\Libra #
#                    ries\CMSIS\Device\ST\STM32F4xx\Include\" -I              #
#                    "C:\Tools\IAR Systems\Workspace_WL9F\WL_F_Monitor_APP\Pr #
#                    oject\..\Libraries\STM32F4xx_StdPeriph_Driver\inc\" -Oh  #
#                    --use_c++_inline -I "C:\Tools\IAR Systems\Embedded       #
#                    Workbench 6.5\arm\CMSIS\Include\"                        #
#    List file    =  C:\Tools\IAR Systems\Workspace_WL9F\WL_F_Monitor_APP\Pro #
#                    ject\Debug\List\TW8816_Control.lst                       #
#    Object file  =  C:\Tools\IAR Systems\Workspace_WL9F\WL_F_Monitor_APP\Pro #
#                    ject\Debug\Obj\TW8816_Control.o                          #
#                                                                             #
#                                                                             #
###############################################################################

C:\Tools\IAR Systems\Workspace_WL9F\WL_F_Monitor_APP\Platform\TaeHa - ECS\SRC\TW8816_Control.c
      1          /**
      2            ******************************************************************************
      3            * @file    TW8816_Control.c 
      4            * @author  kutelf (kutelf@taeha.co.kr)
      5            * @version V1.0.0
      6            * @date    02/22/2013
      7            * @brief   TW8816_Control.c module
      8            *
      9            * Project Name       : WL9F Monitor APP
     10            * Project Enviroment : IAREmbedded Workbench for ARM 6.5x 
     11            *                      STM32F407ZGT6 Firmware Library
     12            * Project Workspace  : WL9F_Monitor_APP
     13            * MCU Type           : STM32F407ZGT6
     14            *
     15            * TAEHA MECHATRONICS Co., Ltd (http://www.taeha.co.kr)				
     16            * ECS Division R&D Center. / Author by Young-Min Han (kutelf@taeha.co.kr)
     17            * 
     18            ******************************************************************************
     19            */ 
     20          
     21          /* Includes ------------------------------------------------------------------*/
     22          #include "WL9F_Monitor_APP.h"	
     23          
     24          /* Private typedef -----------------------------------------------------------*/
     25          /* Private define ------------------------------------------------------------*/
     26          /* Private macro -------------------------------------------------------------*/
     27          /* Private variables ---------------------------------------------------------*/
     28          
     29          // ++, sys3215, 141211
     30          extern u8 Hardware_Revision;
     31          // --, sys3215, 141211
     32          
     33          #if 0
     34          u8 InitCVBSAll_8816[] = 
     35          {
     36          	
     37          	0xFF,0x0,	//Page 0
     38          	0x0,0x22,	
     39          	0x1,0x93,	
     40          	0x2,0x40,	
     41          	0x3,0x0,	
     42          	0x4,0x0,	
     43          	0x5,0x8D,	
     44          	0x6,0x3,	
     45          	0x7,0x2,	
     46          	0x8,0x14,	
     47          	0x9,0xF3,	
     48          	0x0A,0x0F,	
     49          	0x0B,0xD0,	
     50          	0x0C,0xDC,	
     51          	0x0D,0x15,	
     52          	0x0E,0x80,	
     53          	0x0F,0x0,	
     54          	0x10,0x0,	
     55          	0x11,0x5C,	
     56          	0x12,0x13,	
     57          	0x13,0x80,	
     58          	0x14,0x80,	
     59          	0x15,0x0,	
     60          	0x16,0xC3,	
     61          	0x17,0x30,	
     62          	0x18,0x44,	
     63          	0x19,0x0,	
     64          	0x1A,0x90,	
     65          	0x1B,0x0,	
     66          	0x1C,0x27,	
     67          	0x1D,0x7F,	
     68          	0x1E,0x8,	
     69          	0x1F,0x0,	
     70          	0x20,0x50,	
     71          	0x21,0x42,	
     72          	0x22,0xF0,	
     73          	0x23,0xD8,	
     74          	0x24,0xBC,	
     75          	0x25,0xB8,	
     76          	0x26,0x44,	
     77          	0x27,0x2A,	
     78          	0x28,0x0,	
     79          	0x29,0x0,	
     80          	0x2A,0x78,	
     81          	0x2B,0x44,	
     82          	0x2C,0x30,	
     83          	0x2D,0x4,	
     84          	0x2E,0xA5,	
     85          	0x2F,0xE0,	
     86          	0x30,0x10,	
     87          	0x31,0x0,	
     88          	0x32,0x0,	
     89          	0x33,0x5,	
     90          	0x34,0x9A,	
     91          	0x35,0x30,	
     92          	0x36,0x0,	
     93          	0x37,0x0,	
     94          	0x38,0x8E,	
     95          	0x39,0x0,	
     96          	0x3A,0x0,	
     97          	0x3B,0x0,	
     98          	0x3C,0x0,	
     99          	0x3D,0x0,	
    100          	0x3E,0x0,	
    101          	0x3F,0x0,	
    102          	0x40,0x0,	
    103          	0x41,0x20,	
    104          	0x42,0x4,	
    105          	0x43,0x22,	
    106          	0x44,0x18,	
    107          	0x45,0x50,	
    108          	0x46,0x20,	
    109          	0x47,0x0,	
    110          	0x48,0xCF,	
    111          	0x49,0x61,	
    112          	0x4A,0x13,	
    113          	0x4B,0x13,	
    114          	0x4C,0x0,	
    115          	0x4D,0x30,	
    116          	0x4E,0x0,	
    117          	0x4F,0x0,	
    118          	0x50,0x0,	
    119          	0x51,0x20,	
    120          	0x52,0xFF,	
    121          	0x53,0x10,	
    122          	0x54,0x20,	
    123          	0x55,0xFA,	
    124          	0x56,0x0,	
    125          	0x57,0x0,	
    126          	0x58,0x0,	
    127          	0x59,0x0,	
    128          	0x5A,0x0,	
    129          	0x5B,0x30,	
    130          	0x5C,0x0,	
    131          	0x5D,0x30,	
    132          	0x5E,0x0,	
    133          	0x5F,0x0,	
    134          	0x60,0xE3,	
    135          	0x61,0x80,	
    136          	0x62,0x80,	
    137          	0x63,0x0,	
    138          	0x64,0x0,	
    139          	0x65,0x80,	
    140          	0x66,0x0,	
    141          	0x67,0x0,	
    142          	0x68,0x0,	
    143          	0x69,0x0,	
    144          	0x6A,0x0,	
    145          	0x6B,0x0,	
    146          	0x6C,0x0,	
    147          	0x6D,0x0,	
    148          	0x6E,0x0,	
    149          	0x6F,0x0,	
    150          	0x70,0x60,	
    151          	0x71,0x80,	
    152          	0x72,0x80,	
    153          	0x73,0x80,	
    154          	0x74,0x80,	
    155          	0x75,0x80,	
    156          	0x76,0x80,	
    157          	0x77,0x3F,	
    158          	0x78,0x0A,	
    159          	0x79,0x0,	
    160          	0x7A,0x30,	
    161          	0x7B,0x0,	
    162          	0x7C,0x1C,	
    163          	0x7D,0x8,	
    164          	0x7E,0xF6,	
    165          	0x7F,0x8,	
    166          	0x80,0x10,	
    167          	0x81,0x0D,	
    168          	0x82,0x3,	
    169          	0x83,0x0,	
    170          	0x84,0x67,	
    171          	0x85,0x94,	
    172          	0x86,0x18,	
    173          	0x87,0xE8,	
    174          	0x88,0xCA,	
    175          	0x89,0x2,	
    176          	0x8A,0x0A,	
    177          	0x8B,0x4,	
    178          	0x8C,0x0,	
    179          	0x8D,0x0,	
    180          	0x8E,0x0,	
    181          	0x8F,0x0,	
    182          	0x90,0x0,	
    183          	0x91,0x6,	
    184          	0x92,0x6,	
    185          	0x93,0x6,	
    186          	0x94,0x0,	
    187          	0x95,0x40,	
    188          	0x96,0x0,	
    189          	0x97,0x0,	
    190          	0x98,0x0,	
    191          	0x99,0x8,	
    192          	0x9A,0x0,	
    193          	0x9B,0x31,	
    194          	0x9C,0x0,	
    195          	0x9D,0x0,	
    196          	0x9E,0x0,	
    197          	0x9F,0x0,	
    198          	0xA0,0x0,	
    199          	0xA1,0x0,	
    200          	0xA2,0x0,	
    201          	0xA3,0x0,	
    202          	0xA4,0x0,	
    203          	0xA5,0xE0,	
    204          	0xA6,0x0,	
    205          	0xA7,0x0,	
    206          	0xA8,0x0,	
    207          	0xA9,0x0,	
    208          	0xAA,0x0,	
    209          	0xAB,0x0,	
    210          	0xAC,0x0,	
    211          	0xAD,0x0,	
    212          	0xAE,0x0,	
    213          	0xAF,0x0,	
    214          	0xB0,0x40,	
    215          	0xB1,0x0,	
    216          	0xB2,0xCC,	
    217          	0xB3,0x1,	
    218          	0xB4,0x10,	
    219          	0xB5,0x20,	
    220          	0xB6,0x33,	
    221          	0xB7,0x12,	
    222          	0xB8,0x1,	
    223          	0xB9,0x29,	
    224          	0xBA,0xE0,	
    225          	0xBB,0x12,	
    226          	0xBC,0x0,	
    227          	0xBD,0x0C,	
    228          	0xBE,0xC2,	
    229          	0xBF,0x0,	
    230          	0xC0,0x0,	
    231          	0xC1,0x0,	
    232          	0xC2,0x0,	
    233          	0xC3,0x0,	
    234          	0xC4,0x40,	
    235          	0xC5,0x0,	
    236          	0xC6,0x0,	
    237          	0xC7,0x0,	
    238          	0xC8,0x0,	
    239          	0xC9,0x0,	
    240          	0xCA,0x0,	
    241          	0xCB,0x0,	
    242          	0xCC,0x0,	
    243          	0xCD,0x0,	
    244          	0xCE,0x0,	
    245          	0xCF,0x0,	
    246          	0xD0,0xC9,	
    247          	0xD1,0x4C,	
    248          	0xD2,0xFF,	
    249          	0xD3,0x7,	
    250          	0xD4,0x0,	
    251          	0xD5,0x3F,	
    252          	0xD6,0x0,	
    253          	0xD7,0x0,	
    254          	0xD8,0x0,	
    255          	0xD9,0x0,	
    256          	0xDA,0x3D,	
    257          	0xDB,0xC3,	
    258          	0xDC,0xFC,	
    259          	0xDD,0x0,	
    260          	0xDE,0x0,	
    261          	0xDF,0x0,	
    262          	0xE0,0x0,	
    263          	0xE1,0x0,	
    264          	0xE2,0x0,	
    265          	0xE3,0x0,	
    266          	0xE4,0x0,	
    267          	0xE5,0x0,	
    268          	0xE6,0x0,	
    269          	0xE7,0x0,	
    270          	0xE8,0x0,	
    271          	0xE9,0x0,	
    272          	0xEA,0x0,	
    273          	0xEB,0x0,	
    274          	0xEC,0x0,	
    275          	0xED,0x0,	
    276          	0xEE,0x0,	
    277          	0xEF,0x0,	
    278          	0xF0,0x0,	
    279          	0xF1,0x20,	
    280          	0xF2,0x0,	
    281          	0xF3,0x0,	
    282          	0xF4,0x16,	
    283          	0xF5,0x0,	
    284          	0xF6,0x0,	
    285          	0xF7,0x0,	
    286          	0xF8,0x0,	
    287          	0xF9,0x20,	
    288          	0xFA,0x90,	
    289          	0xFB,0x0,	
    290          	0xFC,0x40,	
    291          	0xFD,0x34,	
    292          	0xFE,0x0,	
    293          	0xFF,0x0,	
    294          	
    295          	0xFF,0x1,	//Page 1
    296          	0x0,0x0,	
    297          	0x1,0x40,	
    298          	0x2,0xBF,	
    299          	0x3,0x86,	
    300          	0x4,0x0,	
    301          	0x5,0x0,	
    302          	0x6,0x0,	
    303          	0x7,0x0,	
    304          	0x8,0x0,	
    305          	0x9,0x0,	
    306          	0x0A,0x0,	
    307          	0x0B,0x0,	
    308          	0x0C,0x0,	
    309          	0x0D,0x0,	
    310          	0x0E,0x0,	
    311          	0x0F,0x0,	
    312          	0x10,0x0,	
    313          	0x11,0x0,	
    314          	0x12,0x0,	
    315          	0x13,0x0,	
    316          	0x14,0x0,	
    317          	0x15,0x0,	
    318          	0x16,0x0,	
    319          	0x17,0x0,	
    320          	0x18,0x0,	
    321          	0x19,0x0,	
    322          	0x1A,0x0,	
    323          	0x1B,0x0,	
    324          	0x1C,0x0,	
    325          	0x1D,0x0,	
    326          	0x1E,0x0,	
    327          	0x1F,0x0,	
    328          	0x20,0x0,	
    329          	0x21,0x0,	
    330          	0x22,0x0,	
    331          	0x23,0x0,	
    332          	0x24,0x0,	
    333          	0x25,0x0,	
    334          	0x26,0x0,	
    335          	0x27,0x0,	
    336          	0x28,0x0,	
    337          	0x29,0x0,	
    338          	0x2A,0x0,	
    339          	0x2B,0x0,	
    340          	0x2C,0x0,	
    341          	0x2D,0x0,	
    342          	0x2E,0x0,	
    343          	0x2F,0x0,	
    344          	0x30,0xF2,	
    345          	0x31,0xAD,	
    346          	0x32,0x4,	
    347          	0x33,0x80,	
    348          	0x34,0x84,	
    349          	0x35,0x0,	
    350          	0x36,0x20,	
    351          	0x37,0x0,	
    352          	0x38,0x0,	
    353          	0x39,0x0,	
    354          	0x3A,0x0,	
    355          	0x3B,0x0,	
    356          	0x3C,0x0,	
    357          	0x3D,0x0,	
    358          	0x3E,0x0,	
    359          	0x3F,0x0,	
    360          	0x40,0x0,	
    361          	0x41,0x0,	
    362          	0x42,0xEE,	
    363          	0x43,0x0,	
    364          	0x44,0x0,	
    365          	0x45,0x0,	
    366          	0x46,0x0,	
    367          	0x47,0x0,	
    368          	0x48,0x0,	
    369          	0x49,0x0,	
    370          	0x4A,0x0,	
    371          	0x4B,0x0,	
    372          	0x4C,0x0,	
    373          	0x4D,0x0,	
    374          	0x4E,0x0,	
    375          	0x4F,0x0,	
    376          	0x50,0x0,	
    377          	0x51,0x0,	
    378          	0x52,0x0,	
    379          	0x53,0x0,	
    380          	0x54,0x0,	
    381          	0x55,0x0,	
    382          	0x56,0x0,	
    383          	0x57,0x41,	
    384          	0x58,0x2,	
    385          	0x59,0x0,	
    386          	0x5A,0x0,	
    387          	0x5B,0x0,	
    388          	0x5C,0x0,	
    389          	0x5D,0x0,	
    390          	0x5E,0x0,	
    391          	0x5F,0x0,	
    392          	0x60,0x0,	
    393          	0x61,0x0,	
    394          	0x62,0x0,	
    395          	0x63,0x0,	
    396          	0x64,0x0,	
    397          	0x65,0x0,	
    398          	0x66,0x0,	
    399          	0x67,0x0,	
    400          	0x68,0x0,	
    401          	0x69,0x0,	
    402          	0x6A,0x0,	
    403          	0x6B,0x0,	
    404          	0x6C,0x0,	
    405          	0x6D,0x0,	
    406          	0x6E,0x0,	
    407          	0x6F,0x0,	
    408          	0x70,0x0,	
    409          	0x71,0x0,	
    410          	0x72,0x0,	
    411          	0x73,0x0,	
    412          	0x74,0x0,	
    413          	0x75,0x0,	
    414          	0x76,0x0,	
    415          	0x77,0x5A,	
    416          	0x78,0x0,	
    417          	0x79,0x7F,	
    418          	0x7A,0x1,	
    419          	0x7B,0x0E,	
    420          	0x7C,0x0,	
    421          	0x7D,0x20,	
    422          	0x7E,0x1,	
    423          	0x7F,0xE2,	
    424          	0x80,0x0,	
    425          	0x81,0x0,	
    426          	0x82,0x7,	
    427          	0x83,0x1F,	
    428          	0x84,0x64,	
    429          	0x85,0x0,	
    430          	0x86,0x0,	
    431          	0x87,0x0,	
    432          	0x88,0x0,	
    433          	0x89,0x0,	
    434          	0x8A,0x2,	
    435          	0x8B,0x4D,	
    436          	0x8C,0x0,	
    437          	0x8D,0x0,	
    438          	0x8E,0x2,	
    439          	0x8F,0x0E,	
    440          	0x90,0x3,	
    441          	0x91,0x59,	
    442          	0x92,0x3,	
    443          	0x93,0x57,	
    444          	0x94,0x0,	
    445          	0x95,0x1,	
    446          	0x96,0x0,	
    447          	0x97,0x0,	
    448          	0x98,0x0,	
    449          	0x99,0x0,	
    450          	0x9A,0x0,	
    451          	0x9B,0x36,	
    452          	0x9C,0x0,	
    453          	0x9D,0x1,	
    454          	0x9E,0x0,	
    455          	0x9F,0x0,	
    456          	0xA0,0x2,	
    457          	0xA1,0x68,	
    458          	0xA2,0x0,	
    459          	0xA3,0x52,	
    460          	0xA4,0x0,	
    461          	0xA5,0x24,	
    462          	0xA6,0x0,	
    463          	0xA7,0x1,	
    464          	0xA8,0x0,	
    465          	0xA9,0x0,	
    466          	0xAA,0x0,	
    467          	0xAB,0x0,	
    468          	0xAC,0x0,	
    469          	0xAD,0xF6,	
    470          	0xAE,0x0,	
    471          	0xAF,0x6A,	
    472          	0xB0,0x2,	
    473          	0xB1,0x3,	
    474          	0xB2,0x88,	
    475          	0xB3,0x0,	
    476          	0xB4,0x0,	
    477          	0xB5,0x0,	
    478          	0xB6,0x0,	
    479          	0xB7,0x0,	
    480          	0xB8,0x0,	
    481          	0xB9,0x0,	
    482          	0xBA,0x0,	
    483          	0xBB,0x0,	
    484          	0xBC,0x0,	
    485          	0xBD,0x0,	
    486          	0xBE,0x0,	
    487          	0xBF,0x0,	
    488          	0xC0,0x5,	
    489          	0xC1,0xC7,	
    490          	0xC2,0x3,	
    491          	0xC3,0x3,	
    492          	0xC4,0x5A,	
    493          	0xC5,0x11,	
    494          	0xC6,0x20,	
    495          	0xC7,0x4,	
    496          	0xC8,0x0,	
    497          	0xC9,0x0,	
    498          	0xCA,0x0,	
    499          	0xCB,0x10,	
    500          	0xCC,0x4,	
    501          	0xCD,0x0,	
    502          	0xCE,0x0,	
    503          	0xCF,0x24,	
    504          	0xD0,0x0,	
    505          	0xD1,0xF0,	
    506          	0xD2,0xF0,	
    507          	0xD3,0xF0,	
    508          	0xD4,0x20,	
    509          	0xD5,0x0,	
    510          	0xD6,0x10,	
    511          	0xD7,0x0,	
    512          	0xD8,0x42,	
    513          	0xD9,0x10,	
    514          	0xDA,0x80,	
    515          	0xDB,0x80,	
    516          	0xDC,0x20,	
    517          	0xDD,0x1,	
    518          	0xDE,0x0,	
    519          	0xDF,0x0,	
    520          	0xE0,0x0,	
    521          	0xE1,0x0,	
    522          	0xE2,0x0,	
    523          	0xE3,0x0,	
    524          	0xE4,0x0,	
    525          	0xE5,0x0,	
    526          	0xE6,0x0,	
    527          	0xE7,0x0,	
    528          	0xE8,0x0,	
    529          	0xE9,0x0,	
    530          	0xEA,0x0,	
    531          	0xEB,0x0,	
    532          	0xEC,0x0,	
    533          	0xED,0x0,	
    534          	0xEE,0x0,	
    535          	0xEF,0x0,	
    536          	0xF0,0xF0,	
    537          	0xF1,0x0,	
    538          	0xF2,0xAD,	
    539          	0xF3,0x19,	
    540          	0xF4,0x0,	
    541          	0xF5,0xE8,	
    542          	0xF6,0x0,	
    543          	0xF7,0xE8,	
    544          	0xF8,0x0,	
    545          	0xF9,0x0,	
    546          	0xFA,0x0,	
    547          	0xFB,0x0,	
    548          	0xFC,0x0,	
    549          	0xFD,0x0,	
    550          	0xFE,0x0,	
    551          	0xFF,0x1	
    552          	
    553          } ;
    554          #else
    555          u8 InitCVBSAll_8816[] = 
    556          {
    557          	
    558          	0xFF,0x0,	//Page 0
    559          	0x0,0x22,	
    560          	0x1,0x93,	
    561          	0x2,0x40,	
    562          	0x3,0x0,	
    563          	0x4,0x0,	
    564          	0x5,0x8D,	
    565          	0x6,0x3,	
    566          	0x7,0x2,	
    567          	0x8,0x14,	
    568          	0x9,0xF3,	
    569          	0x0A,0x0F,	
    570          	0x0B,0xD0,	
    571          	0x0C,0xDC,	
    572          	0x0D,0x15,	
    573          	0x0E,0x80,	
    574          	0x0F,0x0,	
    575          	0x10,0x0,	
    576          	0x11,0x5C,	
    577          	0x12,0x13,	
    578          	0x13,0x80,	
    579          	0x14,0x80,	
    580          	0x15,0x0,	
    581          	0x16,0xC3,	
    582          	0x17,0x30,	
    583          	0x18,0x44,	
    584          	0x19,0x0,	
    585          	0x1A,0x90,	
    586          	0x1B,0x0,	
    587          	
    588          	//0x1C,0x27,	
    589          	//0x1D,0x7F,	
    590          	0x1c, 0x00,
    591          	0x1d, 0x01,
    592          	
    593          	0x1E,0x8,	
    594          	0x1F,0x0,	
    595          	0x20,0x50,	
    596          	0x21,0x42,	
    597          	0x22,0xF0,	
    598          	0x23,0xD8,	
    599          	0x24,0xBC,	
    600          	0x25,0xB8,	
    601          	0x26,0x44,	
    602          	0x27,0x2A,	
    603          	0x28,0x0,	
    604          	0x29,0x0,	
    605          	0x2A,0x78,	
    606          	0x2B,0x44,	
    607          	0x2C,0x30,	
    608          	0x2D,0x4,	
    609          	//0x2E,0xA5,
    610          
    611          	0x2E,0xFF,
    612          
    613          	
    614          	0x2F,0xE0,	
    615          	0x30,0x10,	
    616          	0x31,0x0,	
    617          	0x32,0x0,	
    618          	0x33,0x5,	
    619          	0x34,0x9A,	
    620          	0x35,0x30,	
    621          	0x36,0x0,	
    622          	0x37,0x0,	
    623          	0x38,0x8E,	
    624          	0x39,0x0,	
    625          	0x3A,0x0,	
    626          	0x3B,0x0,	
    627          	0x3C,0x0,	
    628          	0x3D,0x0,	
    629          	0x3E,0x0,	
    630          	0x3F,0x0,	
    631          	0x40,0x0,	
    632          	0x41,0x20,	
    633          	0x42,0x4,	
    634          	0x43,0x22,	
    635          	0x44,0x18,	
    636          	0x45,0x50,	
    637          	0x46,0x20,	
    638          	0x47,0x0,	
    639          	0x48,0xCF,	
    640          	0x49,0x61,	
    641          	0x4A,0x13,	
    642          	0x4B,0x13,	
    643          	0x4C,0x0,	
    644          	0x4D,0x30,	
    645          	0x4E,0x0,	
    646          	0x4F,0x0,	
    647          	0x50,0x0,	
    648          	0x51,0x20,	
    649          	0x52,0xFF,	
    650          	0x53,0x10,	
    651          	0x54,0x20,	
    652          	0x55,0xFA,	
    653          	0x56,0x0,	
    654          	0x57,0x0,	
    655          	0x58,0x0,	
    656          	0x59,0x0,	
    657          	0x5A,0x0,	
    658          	0x5B,0x30,	
    659          	0x5C,0x0,	
    660          	0x5D,0x30,	
    661          	0x5E,0x0,	
    662          	0x5F,0x0,	
    663          	
    664          	//0x60,0xE3,	
    665          	//0x61,0x80,	
    666          	//0x62,0x80,	
    667          
    668          	// ++, 150323 sys No zoom
    669          	//0x60,0xE3,	
    670          	//0x61,0x80,	
    671          	//0x62,0x80,	
    672          	//0x63,0x0,	
    673          	
    674          	0x60,0x00,  // X_SCALE_UP_MID
    675          	0x61,0x80,	
    676          	//0x62,0x80,
    677          	//0x63,0x01,
    678          	0x62,0x80,
    679          	0x63,0x01,	
    680          
    681          	// --, 150323 sys
    682          	
    683          	0x64,0x0,	
    684          	0x65,0x80,	
    685          
    686          	// ++, 150323 sys
    687          	//0x66,0x0,	
    688          	//0x67,0x0,
    689          	0x66,0x2e,	// H_NON_DISPLAY
    690          	0x67,0x0,
    691          	// --, 150323 sys
    692          
    693          	// ++, 150323 sys
    694          	//0x68,0x0,	// X_SCALE_UP_LO
    695          	
    696          	0x68,000,	// X_SCALE_UP_LO
    697          	// --, 150323 sys
    698          	0x69,0x0,	
    699          	0x6A,0x0,	
    700          	0x6B,0x0,	
    701          	0x6C,0x0,	
    702          	0x6D,0x0,	
    703          	0x6E,0x0,	
    704          	0x6F,0x0,	
    705          	0x70,0x60,	
    706          	0x71,0x80,	
    707          	0x72,0x80,	
    708          	0x73,0x80,	
    709          	0x74,0x80,	
    710          	0x75,0x80,	
    711          	0x76,0x80,	
    712          	0x77,0x3F,	
    713          	0x78,0x0A,	
    714          	0x79,0x0,	
    715          	0x7A,0x30,	
    716          	0x7B,0x0,	
    717          	0x7C,0x1C,	
    718          	0x7D,0x8,	
    719          	0x7E,0xF6,	
    720          	0x7F,0x8,	
    721          	0x80,0x10,	
    722          	0x81,0x0D,	
    723          	0x82,0x3,	
    724          	0x83,0x0,	
    725          	0x84,0x67,	
    726          	0x85,0x94,	
    727          	0x86,0x18,	
    728          	0x87,0xE8,	
    729          	0x88,0xCA,	
    730          	0x89,0x2,	
    731          	0x8A,0x0A,	
    732          	0x8B,0x4,	
    733          	0x8C,0x0,	
    734          	0x8D,0x0,	
    735          	0x8E,0x0,	
    736          	0x8F,0x0,	
    737          	0x90,0x0,	
    738          	0x91,0x6,	
    739          	0x92,0x6,	
    740          	0x93,0x6,	
    741          	0x94,0x0,	
    742          	0x95,0x40,	
    743          	0x96,0x0,	
    744          	0x97,0x0,	
    745          	0x98,0x0,	
    746          	0x99,0x8,	
    747          	0x9A,0x0,	
    748          	0x9B,0x31,	
    749          	0x9C,0x0,	
    750          	0x9D,0x0,	
    751          	
    752          	0x9E,0x0,	
    753          	0x9F,0x01,	
    754          	0xA0,0x0,	
    755          	0xA1,0x0,	
    756          	0xA2,0x0,	
    757          	0xA3,0x22,	
    758          	0xA4,0x0E,	
    759          	0xA5,0x32,	
    760          	0xA6,0x0,	
    761          	0xA7,0x0,	
    762          	0xA8,0x0,	
    763          	0xA9,0x50,	
    764          	0xAA,0x0,	
    765          	0xAB,0x44,	
    766          	0xAC,0x0F,	
    767          	0xAD,0x0,	
    768          	0xAE,0x0,	
    769          	0xAF,0x0,	
    770          	0xB0,0x40,	
    771          	0xB1,0x0,	
    772          	0xB2,0xCC,	
    773          	0xB3,0x1,	
    774          	0xB4,0x10,	
    775          	0xB5,0x20,	
    776          	0xB6,0x33,	
    777          	0xB7,0x12,	
    778          	0xB8,0x1,	
    779          	0xB9,0x29,	
    780          	0xBA,0xE0,	
    781          	0xBB,0x12,	
    782          	0xBC,0x0,	
    783          	0xBD,0x0C,	
    784          	0xBE,0xC2,	
    785          	0xBF,0x0,	
    786          	0xC0,0x0,	
    787          	0xC1,0x0,	
    788          	0xC2,0x0,	
    789          	0xC3,0x0,	
    790          	0xC4,0x40,	
    791          	0xC5,0x0,	
    792          	0xC6,0x0,	
    793          	0xC7,0x0,	
    794          	0xC8,0x0,	
    795          	0xC9,0x0,	
    796          	0xCA,0x0,	
    797          	0xCB,0x0,	
    798          	0xCC,0x0,	
    799          	0xCD,0x0,	
    800          	0xCE,0x0,	
    801          	0xCF,0x0,	
    802          	0xD0,0xC9,	
    803          	0xD1,0x4C,	
    804          	0xD2,0xFF,	
    805          	0xD3,0x7,	
    806          	0xD4,0x0,	
    807          	0xD5,0x3F,	
    808          	0xD6,0x0,	
    809          	0xD7,0x0,	
    810          	0xD8,0x0,	
    811          	0xD9,0x0,	
    812          	0xDA,0x3D,	
    813          	0xDB,0xC3,	
    814          	0xDC,0xFC,	
    815          	0xDD,0x0,	
    816          	0xDE,0x0,	
    817          	0xDF,0x0,	
    818          	0xE0,0x0,	
    819          	0xE1,0x0,	
    820          	0xE2,0x0,	
    821          	0xE3,0x0,	
    822          	0xE4,0x0,	
    823          	0xE5,0x0,	
    824          	0xE6,0x0,	
    825          	0xE7,0x0,	
    826          	0xE8,0x0,	
    827          	0xE9,0x0,	
    828          	0xEA,0x0,	
    829          	0xEB,0x0,	
    830          	0xEC,0x0,	
    831          	0xED,0x0,	
    832          	0xEE,0x0,	
    833          	0xEF,0x0,	
    834          	0xF0,0x0,	
    835          	0xF1,0x20,	
    836          	0xF2,0x0,	
    837          	0xF3,0x0,	
    838          	0xF4,0x16,	
    839          	0xF5,0x0,	
    840          	0xF6,0x0,	
    841          	0xF7,0x0,	
    842          	0xF8,0x0,	
    843          	0xF9,0x20,	
    844          	0xFA,0x90,	
    845          	0xFB,0x0,	
    846          	0xFC,0x40,	
    847          	0xFD,0x34,	
    848          	0xFE,0x0,	
    849          	0xFF,0x0,	
    850          	
    851          	0xFF,0x1,	//Page 1
    852          	0x0,0x0,	
    853          	0x1,0x40,	
    854          	0x2,0xBF,	
    855          	0x3,0x86,	
    856          	0x4,0x0,	
    857          	0x5,0x0,	
    858          	0x6,0x0,	
    859          	0x7,0x0,	
    860          	0x8,0x0,	
    861          	0x9,0x0,	
    862          	0x0A,0x0,	
    863          	0x0B,0x0,	
    864          	0x0C,0x0,	
    865          	0x0D,0x0,	
    866          	0x0E,0x0,	
    867          	0x0F,0x0,	
    868          	0x10,0x0,	
    869          	0x11,0x0,	
    870          	0x12,0x0,	
    871          	0x13,0x0,	
    872          	0x14,0x0,	
    873          	0x15,0x0,	
    874          	0x16,0x0,	
    875          	0x17,0x0,	
    876          	0x18,0x0,	
    877          	0x19,0x0,	
    878          	0x1A,0x0,	
    879          	0x1B,0x0,	
    880          	0x1C,0x0,	
    881          	0x1D,0x0,	
    882          	0x1E,0x0,	
    883          	0x1F,0x0,	
    884          	0x20,0x0,	
    885          	0x21,0x0,	
    886          	0x22,0x0,	
    887          	0x23,0x0,	
    888          	0x24,0x0,	
    889          	0x25,0x0,	
    890          	0x26,0x0,	
    891          	0x27,0x0,	
    892          	0x28,0x0,	
    893          	0x29,0x0,	
    894          	0x2A,0x0,	
    895          	0x2B,0x0,	
    896          	0x2C,0x0,	
    897          	0x2D,0x0,	
    898          	0x2E,0x0,	
    899          	0x2F,0x0,	
    900          	0x30,0xF2,	
    901          	0x31,0xAD,	
    902          	0x32,0x4,	
    903          	0x33,0x80,	
    904          	0x34,0x84,	
    905          	0x35,0x0,	
    906          	0x36,0x20,	
    907          	0x37,0x0,	
    908          	0x38,0x0,	
    909          	0x39,0x0,	
    910          	0x3A,0x0,	
    911          	0x3B,0x0,	
    912          	0x3C,0x0,	
    913          	0x3D,0x0,	
    914          	0x3E,0x0,	
    915          	0x3F,0x0,	
    916          	0x40,0x0,	
    917          	0x41,0x0,	
    918          	0x42,0xEE,	
    919          	0x43,0x0,	
    920          	0x44,0x0,	
    921          	0x45,0x0,	
    922          	0x46,0x0,	
    923          	0x47,0x0,	
    924          	0x48,0x0,	
    925          	0x49,0x0,	
    926          	0x4A,0x0,	
    927          	0x4B,0x0,	
    928          	0x4C,0x0,	
    929          	0x4D,0x0,	
    930          	0x4E,0x0,	
    931          	0x4F,0x0,	
    932          	0x50,0x0,	
    933          	0x51,0x0,	
    934          	0x52,0x0,	
    935          	0x53,0x0,	
    936          	0x54,0x0,	
    937          	0x55,0x0,	
    938          	0x56,0x0,	
    939          	0x57,0x41,	
    940          	0x58,0x2,	
    941          	0x59,0x0,	
    942          	0x5A,0x0,	
    943          	0x5B,0x0,	
    944          	0x5C,0x0,	
    945          	0x5D,0x0,	
    946          	0x5E,0x0,	
    947          	0x5F,0x0,	
    948          	0x60,0x0,	
    949          	0x61,0x0,	
    950          	0x62,0x0,	
    951          	0x63,0x0,	
    952          	0x64,0x0,	
    953          	0x65,0x0,	
    954          	0x66,0x0,	
    955          	0x67,0x0,	
    956          	0x68,0x0,	
    957          	0x69,0x0,	
    958          	0x6A,0x0,	
    959          	0x6B,0x0,	
    960          	0x6C,0x0,	
    961          	0x6D,0x0,	
    962          	0x6E,0x0,	
    963          	0x6F,0x0,	
    964          	0x70,0x0,	
    965          	0x71,0x0,	
    966          	0x72,0x0,	
    967          	0x73,0x0,	
    968          	0x74,0x0,	
    969          	0x75,0x0,	
    970          	0x76,0x0,	
    971          	0x77,0x5A,	
    972          	0x78,0x0,	
    973          	0x79,0x7F,	
    974          	0x7A,0x1,	
    975          	0x7B,0x0E,	
    976          	0x7C,0x0,	
    977          	0x7D,0x20,	
    978          	0x7E,0x1,	
    979          	0x7F,0xE2,	
    980          	0x80,0x0,	
    981          	0x81,0x0,	
    982          	0x82,0x7,	
    983          	0x83,0x1F,	
    984          	0x84,0x64,	
    985          	0x85,0x0,	
    986          	0x86,0x0,	
    987          	0x87,0x0,	
    988          	0x88,0x0,	
    989          	0x89,0x0,	
    990          	0x8A,0x2,	
    991          	0x8B,0x4D,	
    992          	0x8C,0x0,	
    993          	0x8D,0x0,	
    994          	0x8E,0x2,	
    995          	0x8F,0x0E,	
    996          	0x90,0x3,	
    997          	0x91,0x59,	
    998          	0x92,0x3,	
    999          	0x93,0x57,	
   1000          	0x94,0x0,	
   1001          	0x95,0x1,	
   1002          	0x96,0x0,	
   1003          	0x97,0x0,	
   1004          	0x98,0x0,	
   1005          	0x99,0x0,	
   1006          	0x9A,0x0,	
   1007          	0x9B,0x36,	
   1008          	0x9C,0x0,	
   1009          	0x9D,0x1,	
   1010          	
   1011          	0x9E,0x0,	
   1012          	0x9F,0x0,	
   1013          	0xA0,0x2,	
   1014          	0xA1,0x68,	
   1015          	0xA2,0x0,	
   1016          	0xA3,0x52,	
   1017          	0xA4,0x0,	
   1018          	0xA5,0x24,	
   1019          	0xA6,0x0,	
   1020          	0xA7,0x1,	
   1021          	0xA8,0x0,	
   1022          	0xA9,0x0,	
   1023          	0xAA,0x0,	
   1024          	0xAB,0x0,	
   1025          	0xAC,0x0,	
   1026          	0xAD,0xF6,	
   1027          	0xAE,0x0,	
   1028          	0xAF,0x6A,	
   1029          	0xB0,0x2,	
   1030          	0xB1,0x3,	
   1031          	0xB2,0x88,	
   1032          	0xB3,0x0,	
   1033          	0xB4,0x0,	
   1034          	0xB5,0x0,	
   1035          	0xB6,0x0,	
   1036          	0xB7,0x0,	
   1037          	0xB8,0x0,	
   1038          	0xB9,0x0,	
   1039          	0xBA,0x0,	
   1040          	0xBB,0x0,	
   1041          	0xBC,0x0,	
   1042          	0xBD,0x0,	
   1043          	0xBE,0x0,	
   1044          	0xBF,0x0,	
   1045          	0xC0,0x5,	
   1046          	0xC1,0xC7,	
   1047          	0xC2,0x3,	
   1048          	0xC3,0x3,	
   1049          	0xC4,0x5A,	
   1050          	0xC5,0x11,	
   1051          	0xC6,0x20,	
   1052          	0xC7,0x4,	
   1053          	0xC8,0x0,	
   1054          	0xC9,0x0,	
   1055          	0xCA,0x0,	
   1056          	0xCB,0x10,	
   1057          	0xCC,0x4,	
   1058          	0xCD,0x0,	
   1059          	0xCE,0x0,	
   1060          	0xCF,0x24,	
   1061          	0xD0,0x0,	
   1062          	0xD1,0xF0,	
   1063          	0xD2,0xF0,	
   1064          	0xD3,0xF0,	
   1065          	0xD4,0x20,	
   1066          	0xD5,0x0,	
   1067          	0xD6,0x10,	
   1068          	0xD7,0x0,	
   1069          	0xD8,0x42,	
   1070          	0xD9,0x10,	
   1071          	0xDA,0x80,	
   1072          	0xDB,0x80,	
   1073          	0xDC,0x20,	
   1074          	0xDD,0x1,	
   1075          	0xDE,0x0,	
   1076          	0xDF,0x0,	
   1077          	0xE0,0x0,	
   1078          	0xE1,0x0,	
   1079          	0xE2,0x0,	
   1080          	0xE3,0x0,	
   1081          	0xE4,0x0,	
   1082          	0xE5,0x0,	
   1083          	0xE6,0x0,	
   1084          	0xE7,0x0,	
   1085          	0xE8,0x0,	
   1086          	0xE9,0x0,	
   1087          	0xEA,0x0,	
   1088          	0xEB,0x0,	
   1089          	0xEC,0x0,	
   1090          	0xED,0x0,	
   1091          	0xEE,0x0,	
   1092          	0xEF,0x0,	
   1093          	0xF0,0xF0,	
   1094          	0xF1,0x0,	
   1095          	0xF2,0xAD,	
   1096          	0xF3,0x19,	
   1097          	0xF4,0x0,	
   1098          	0xF5,0xE8,	
   1099          	0xF6,0x0,	
   1100          	0xF7,0xE8,	
   1101          	0xF8,0x0,	
   1102          	0xF9,0x0,	
   1103          	0xFA,0x0,	
   1104          	0xFB,0x0,	
   1105          	0xFC,0x0,	
   1106          	0xFD,0x0,	
   1107          	0xFE,0x0,	
   1108          	0xFF,0x1	
   1109          	
   1110          } ;
   1111          
   1112          #endif
   1113          
   1114          /* Private function prototypes -----------------------------------------------*/
   1115          /* Private functions ---------------------------------------------------------*/
   1116          
   1117          /**\
   1118            * @brief  None
   1119            * @param  None
   1120            * @retval None
   1121            */
   1122          
   1123          void NOP_TW8816(void)
   1124          {
   1125          	TimeDelay_usec(1);	
   1126          }
   1127          
   1128          
   1129          void TW8816_PortChange(unsigned char dir)
   1130          {
   1131          	unsigned short temp;
   1132          	
   1133          	GPIO_InitTypeDef GPIO_InitStructure;
   1134          	
   1135          	if (dir)// Output
   1136          	{
   1137          		temp = TW8816_I2C2_PORT->IDR;			//	GPIO_ReadInputData
   1138          		temp = ((~(TW8816_I2C2_SDA)) & temp);
   1139          		TW8816_I2C2_PORT->ODR = (temp);			//	GPIO_Write
   1140          		
   1141          		GPIO_InitStructure.GPIO_Pin   = TW8816_I2C2_SDA;
   1142          		GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_OUT;
   1143          		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_25MHz;
   1144          		GPIO_Init(TW8816_I2C2_PORT, &GPIO_InitStructure);	
   1145          	}
   1146          	else	// Input
   1147          	{	
   1148          		temp = TW8816_I2C2_PORT->IDR;			//	GPIO_ReadInputData
   1149          		temp = ((~(TW8816_I2C2_SDA)) & temp);
   1150          		TW8816_I2C2_PORT->ODR = (temp);			//	GPIO_Write
   1151          		
   1152          		GPIO_InitStructure.GPIO_Pin  = TW8816_I2C2_SDA;
   1153          		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN;
   1154          		GPIO_Init(TW8816_I2C2_PORT, &GPIO_InitStructure);	
   1155          	}
   1156          }
   1157          
   1158          void I2C2_Write_8816(u8 WData)
   1159          {
   1160          	u8 i, j;
   1161          
   1162          	NOP_TW8816();
   1163          
   1164          	for (i = 0; i < 8; i++)
   1165          	{
   1166          		j = ( WData & 0x80 ) ? 1 : 0;
   1167          		(j) ? GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA) : GPIO_ResetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1168          		NOP_TW8816();
   1169          		TW8816_SCL1;
   1170          		NOP_TW8816();		
   1171          		WData <<= 1;
   1172          		TW8816_SCL0;
   1173          		NOP_TW8816();
   1174          	}
   1175          
   1176          	GPIO_ResetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1177          	NOP_TW8816();
   1178          	TW8816_SCL1;
   1179          	NOP_TW8816();
   1180          	TW8816_SCL0;
   1181          }
   1182          
   1183          void I2C2_ByteWrite_8816(u16 in_AddrVal, u8 in_DataVal)
   1184          {
   1185          	u16 tmp_index;
   1186          
   1187          	GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1188          	TW8816_SDAOUT;
   1189          	// START
   1190          	GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1191          	TW8816_SCL1;
   1192          	NOP_TW8816();
   1193          	GPIO_ResetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1194          	NOP_TW8816();
   1195          	TW8816_SCL0;
   1196          	// END
   1197          
   1198          	I2C2_Write_8816(TW8816_I2C_Addr);
   1199          	I2C2_Write_8816((u8)in_AddrVal);
   1200          	I2C2_Write_8816(in_DataVal);
   1201          
   1202          	GPIO_ResetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1203          	NOP_TW8816();
   1204          	TW8816_SCL1;
   1205          	NOP_TW8816();
   1206          	GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1207          
   1208          	for (tmp_index = 0; tmp_index < 15000; tmp_index++);
   1209          }
   1210          u8 I2C2_Read_8816(void)
   1211          {
   1212          	u8 i;
   1213          	u8 RData;
   1214          
   1215          	NOP_TW8816();
   1216          	TW8816_SCL0;
   1217          	NOP_TW8816();
   1218          	GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1219          	TW8816_SDAIN;
   1220          
   1221          	for ( i = 0; i < 8; i++ )
   1222          	{
   1223          		TW8816_SCL1;
   1224          		NOP_TW8816();
   1225          		NOP_TW8816();
   1226          		RData = (RData << 1) | TW8816_SDA_READ;
   1227          		TW8816_SCL0;
   1228          		NOP_TW8816();
   1229          		NOP_TW8816();
   1230          	}
   1231          	GPIO_ResetBits(TW8816_I2C2_PORT, GPIO_Pin_7);
   1232          	TW8816_SDAOUT;
   1233          	return (RData );
   1234          }
   1235          
   1236          u8 I2C2_ByteRead_8816(u16 in_AddrVal)
   1237          {
   1238          	u8 RData = 0;
   1239          	u16 tmp_index;
   1240          
   1241          	GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1242          	TW8816_SDAOUT;
   1243          	GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1244          	TW8816_SCL1;
   1245          	NOP_TW8816();
   1246          	GPIO_ResetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1247          	NOP_TW8816();
   1248          	TW8816_SCL0;
   1249          
   1250          	I2C2_Write_8816(TW8816_I2C_Addr);
   1251          	I2C2_Write_8816((u8)in_AddrVal);
   1252          
   1253          	NOP_TW8816();
   1254          	NOP_TW8816();
   1255          
   1256          	GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1257          	NOP_TW8816();
   1258          	TW8816_SCL1;
   1259          	NOP_TW8816();
   1260          
   1261          	GPIO_ResetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1262          	NOP_TW8816();
   1263          	TW8816_SCL0;
   1264          
   1265          	I2C2_Write_8816(0x8b);
   1266          
   1267          	RData = I2C2_Read_8816();
   1268          
   1269          	// NAK
   1270          	GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1271          	NOP_TW8816();
   1272          	TW8816_SCL1;
   1273          	NOP_TW8816();
   1274          	TW8816_SCL0;
   1275          	NOP_TW8816();
   1276          
   1277          	// STOP
   1278          	GPIO_ResetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1279          	NOP_TW8816();
   1280          	TW8816_SCL1;
   1281          	NOP_TW8816();
   1282          	GPIO_SetBits(TW8816_I2C2_PORT, TW8816_I2C2_SDA);
   1283          
   1284          	for (tmp_index = 0; tmp_index < 15000; tmp_index++);
   1285          	return (RData);
   1286          }
   1287          
   1288          void WriteTW8816(u8 in_AddrVal, u8 in_DataVal)
   1289          {
   1290          	I2C2_ByteWrite_8816(in_AddrVal, in_DataVal);
   1291          	TimeDelay_usec(500);
   1292          }
   1293          
   1294          u8 ReadTW8816(u8 in_AddrVal)
   1295          {
   1296          	u8 val;
   1297          
   1298          	val = I2C2_ByteRead_8816(in_AddrVal);
   1299          
   1300          	return(val);
   1301          }
   1302          
   1303          void I2C2DeviceInitialize_8816(u8 *RegSet)
   1304          {
   1305          	u8 Addr, val;
   1306                 
   1307          	RegSet += 2;
   1308          	
   1309          	// 0xff, 0xff is end of data
   1310          	while (( RegSet[0] != 0xFF ) || ( RegSet[1]!= 0xFF )) 
   1311          	{			
   1312          		Addr = *RegSet;
   1313          		val = *(RegSet+1);
   1314          		I2C2_ByteWrite_8816(Addr, val);
   1315          		RegSet+=2;
   1316          	}
   1317          
   1318          	WriteTW8816(0xff, 0x00);	// Set page 0
   1319          }
   1320          
   1321          
   1322          void InitCVBSRegister_8816( void )
   1323          {
   1324          	I2C2DeviceInitialize_8816( InitCVBSAll_8816 );
   1325          }
   1326          
   1327          
   1328          
   1329          void TW8816_CheckCamera_Input(u8 Mode)
   1330          {
   1331          	u8 CAMSig_1;
   1332          	WriteTW8816(0xff, 0x00);
   1333          	CAMSig_1 = ReadTW8816(0x01);
   1334          	if((CAMSig_1 & 0x80) >> 7== 0x01)
   1335          	{
   1336          		SetDisplayNosignal();
   1337          	}
   1338          	else
   1339          	{
   1340          		SetDisplayNosignalBlank();
   1341          	}
   1342          	
   1343          }
   1344          
   1345          void TW8816_CameraMode(u8 Mode, u8 OSD)
   1346          {
   1347          	//WL9FM_CAMERA_nRESET();	
   1348          	//InitCVBSRegister_8816();
   1349          
   1350          	if(Mode == 0x00)
   1351          	{
   1352          		WriteTW8816(0xff, 0x01);
   1353          		WriteTW8816(0xf3, 0xe9);
   1354          		WriteTW8816(0xff, 0x00);
   1355          		WriteTW8816(0x02, 0x40);
   1356          		SetDisplayCH1();
   1357          		TimeDelay(200);
   1358          		WriteTW8816(0xff, 0x01);
   1359          		WriteTW8816(0xf3, 0x19);
   1360          	}
   1361          	else if(Mode == 0x01)
   1362          	{
   1363          		WriteTW8816(0xff, 0x01);
   1364          		WriteTW8816(0xf3, 0xe9);
   1365          		WriteTW8816(0xff, 0x00);
   1366          		WriteTW8816(0x02, 0x44);
   1367          		SetDisplayCH2();
   1368          		TimeDelay(200);
   1369          		WriteTW8816(0xff, 0x01);
   1370          		WriteTW8816(0xf3, 0x19);
   1371          	}
   1372          	else if(Mode == 0x02)
   1373          	{
   1374          		WriteTW8816(0xff, 0x01);
   1375          		WriteTW8816(0xf3, 0xe9);
   1376          		WriteTW8816(0xff, 0x00);
   1377          		WriteTW8816(0x02, 0x48);
   1378          		SetDisplayCH3();
   1379          		TimeDelay(200);
   1380          		WriteTW8816(0xff, 0x01);
   1381          		WriteTW8816(0xf3, 0x19);
   1382          	}
   1383          	else if(Mode == 0x03)
   1384          	{
   1385          		WriteTW8816(0xff, 0x01);
   1386          		WriteTW8816(0xf3, 0xe9);
   1387          		WriteTW8816(0xff, 0x00);
   1388          		WriteTW8816(0x02, 0x4c);
   1389          		SetDisplayCH4();
   1390          		TimeDelay(200);
   1391          		WriteTW8816(0xff, 0x01);
   1392          		WriteTW8816(0xf3, 0x19);
   1393          	}
   1394          	else
   1395          	{
   1396          		WriteTW8816(0xff, 0x01);
   1397          		WriteTW8816(0xf3, 0xe9);
   1398          		WriteTW8816(0xff, 0x00);
   1399          		WriteTW8816(0x02, 0x40);
   1400          		SetDisplayCH1();
   1401          		TimeDelay(200);
   1402          		WriteTW8816(0xff, 0x01);
   1403          		WriteTW8816(0xf3, 0x19);
   1404          	}
   1405          
   1406          }
   1407          
   1408          void TW8816_Control_Init(void)
   1409          {
   1410          	DebugMsg_printf("++ TW8816_Control_Init (I2C2 & SPI2), ADC Initialize START\r\n");
   1411          
   1412          	InitCVBSRegister_8816();
   1413          
   1414          	DebugMsg_printf("-- TW8816_Control_Init (I2C2 & SPI2), ADC Initialize END\r\n");
   1415          }
   1416          
   1417          // ++, sys3215, 141211
   1418          void WL9F_CAMERA_Init(void)
   1419          {
   1420          	if(Hardware_Revision==REVB)
   1421          	{
   1422          		TW8832_Control_Init();						//	-> 	TW8832_Control.c (LCD Interface)
   1423          		TW2835_Control_Init();	
   1424          	}
   1425          	else
   1426          	{
   1427          		TW8816_Control_Init();
   1428          	}
   1429          }
   1430          // --, sys3215, 141211
   1431          
   1432          
   1433          /*********(C) COPYRIGHT 2010 TaeHa Mechatronics Co., Ltd. *****END OF FILE****/
   1434          

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       8   I2C2DeviceInitialize_8816
         8   -> I2C2_ByteWrite_8816
         0   -> WriteTW8816
      16   I2C2_ByteRead_8816
        16   -> GPIO_ResetBits
        16   -> GPIO_SetBits
        16   -> I2C2_Read_8816
        16   -> I2C2_Write_8816
        16   -> TW8816_PortChange
        16   -> TimeDelay_usec
      16   I2C2_ByteWrite_8816
        16   -> GPIO_ResetBits
         0   -> GPIO_SetBits
        16   -> GPIO_SetBits
        16   -> I2C2_Write_8816
        16   -> TW8816_PortChange
        16   -> TimeDelay_usec
      16   I2C2_Read_8816
        16   -> GPIO_ReadInputDataBit
        16   -> GPIO_ResetBits
        16   -> GPIO_SetBits
        16   -> TW8816_PortChange
        16   -> TimeDelay_usec
      16   I2C2_Write_8816
         0   -> GPIO_ResetBits
        16   -> GPIO_ResetBits
        16   -> GPIO_SetBits
        16   -> TimeDelay_usec
       0   InitCVBSRegister_8816
         0   -> I2C2DeviceInitialize_8816
       0   NOP_TW8816
         0   -> TimeDelay_usec
       0   ReadTW8816
         0   -> I2C2_ByteRead_8816
       8   TW8816_CameraMode
         8   -> I2C2_ByteWrite_8816
         8   -> SetDisplayCH1
         8   -> SetDisplayCH2
         8   -> SetDisplayCH3
         8   -> SetDisplayCH4
         8   -> TimeDelay
         0   -> TimeDelay_usec
         8   -> TimeDelay_usec
         0   -> WriteTW8816
         8   -> WriteTW8816
       8   TW8816_CheckCamera_Input
         8   -> I2C2_ByteRead_8816
         8   -> SetDisplayNosignal
         0   -> SetDisplayNosignalBlank
         8   -> WriteTW8816
       0   TW8816_Control_Init
         0   -> I2C2DeviceInitialize_8816
      16   TW8816_PortChange
        16   -> GPIO_Init
       8   WL9F_CAMERA_Init
         0   -> I2C2DeviceInitialize_8816
         0   -> TW2835_Control_Init
         8   -> TW8832_Control_Init
       8   WriteTW8816
         8   -> I2C2_ByteWrite_8816
         0   -> TimeDelay_usec


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable6
       4  ??DataTable6_1
       4  ??DataTable6_2
      16  ?Subroutine0
       4  ?Subroutine1
      32  I2C2DeviceInitialize_8816
     262  I2C2_ByteRead_8816
     140  I2C2_ByteWrite_8816
     126  I2C2_Read_8816
     128  I2C2_Write_8816
    1028  InitCVBSAll_8816
       2  InitCVBSRegister_8816
       6  NOP_TW8816
       2  ReadTW8816
     248  TW8816_CameraMode
      36  TW8816_CheckCamera_Input
       2  TW8816_Control_Init
      62  TW8816_PortChange
      28  WL9F_CAMERA_Init
       4  WriteTW8816

 
 1 028 bytes in section .data
 1 110 bytes in section .text
 
 1 110 bytes of CODE memory
 1 028 bytes of DATA memory

Errors: none
Warnings: none
